# Creating Tables

Let's first take a look at how we create tables in Toca. When we refer to Tables, we are almost always referring to tables that exist within Datastores. If you think of a Datastore as a database, then the tables are simply database tables! You can also create temporary tables within automation Activities and app IPL but for storing data persistently, we need to use tables created in a Datastore.

![A drawing of a Datastore represented as a Database](/src/assets/book/datastore_database.png)

These tables can be interacted with via both Automation through Actions in Activities such as "Get Table Data" or "Add Row to Table", as well as through Apps in either App Components such as a "Table Component" or with App Actions such as "Get Table Data with Query". You can also browse and interact with the tables from the Datastore interface.

## Table

There are two main parts that make up a table, it's schema which is the technical term for it's structure and the data.

Before we can add any data to our table, we must first define the structure of the table. The structure is predominantly defined by the columns and the data type of each column. A data type allows us to be more precise about what kind of data we are storing in each column. This helps as it means when we try and use the data from the table in our automation or apps, it understands how to interpret the data. It also means that when we insert data into the table, any values that don't adhere to the types for each column will be rejected, so the data integrity in our table is maintained.

You can read more about data types in tables :docs-link[here]{id="projects/automation/datastores/tables/data_types.md"}.

In the example below, the columns would have data types of:

- UUID
- String
- String
- Image
- Date

| Id  | Name            | Email address        | Profile picture | Date of birth |
| :-- | :-------------- | :------------------- | :-------------- | :------------ |
| 1   | Alan Turing     | alan@computers.inc   | 💻              | `1912-06-12`  |
| 2   | Tim Berners-Lee | tim@worldwideweb.com | 🌐              | `1955-06-08`  |
| 3   | Linus Torvalds  | linus@linux.net      | 🐧              | `1969-12-28`  |

This means that if someone tried to something other than a date in the `Date of birth` column, there would be an error. It also means that anything other than an image added in the `Profile picture` column would also error. This helps us to keep our data correct and valid!

Let's have a go at creating the above example table in a Toca Datastore.

### Defining a Schema

Before creating a table, we must make sure we have a Datastore to create the table in, if you don't have an existing datastore then we can just create one.

:vide{src="/src/assets/book/create_datastore.webm"}

Now that we have out Datastore, let's create a table.

When we create a table we need to give it a name so that we can reference the table by name in future and then we need to create the columns. Each column has a label and a name, the label is the human readable name of the column that will be displayed in almost all user interfaces that a table can appear in whereas the name is the technical name for the column that is used behind the scenes.

:video{src="/src/assets/book/create_users_table.webm"}

> **Note** 📝
>
> All tables start with 3 columns by default, an `ID` column which you cannot remove, a `Created` column which is a Datetime column which will auto populate with the current UTC date and time when a row is added to the table and finally an `Updated` column which will contain the UTC date and time from whenever the row was updated. The latter two columns can be deleted if they are not required, but don't worry, you can always add them back if you need them later on.

Now that we have created the table, we can add our data.

## Adding Data

We can either add data manually via the Datastore interface or we can add it via some Automation. Let's explore how we can do both.

### Via Datastore

### Via Automation

Tables in the platform draw a lot of inspiration from database tables so you are also able to link tables together by defining table relationships. You can also control access to your table by setting up row level permissions for granular levels of access control.

Creating tables is easy within Toca and can be achieved from either within a datastore itself or from within an automation activity.

## Creating Tables Within A Datastore

To create a table within a datastore, select the 'New Datastore Item' option in the top left of the datastore view page. Note the different options for the types of items that can be created here.

Select 'Table' from the list of options and the 'Add Table' modal box will now display. This is where you can configure the name, columns and rows of your table. Select '+ COLUMN' to add a column to your table. Give your new column a label and the name will be autogenerated below although this is editable if necessary. Next, select a data type for your column from the options displayed.

![Table Column Types](/src/assets/book/column_type_options.png)

Once you have configured the column, select 'CREATE' to add it to your table. Repeat this process for each required column until you are happy with the table to be created. Finally, select 'ADD' in the bottom right corner to save your new table to the datatstore.

The clip below shows the creation of a simple table with 3 columns; 'Name', 'Age' and 'Registered?'

![Creating A Table Within A Datastore](/src/assets/book/ds_table_creation.gif)

## Creating Tables Within An Activity

Creating a table within an activity can be useful when there is no need to keep the data after execution of the activity. The 'Set Variable' action can be used to create a table within an activity.

First select 'Table' in the variable type dropdown menu. This will display a 'CREATE MODEL' option as shown below.

![Creating A Table Within An Activity](/src/assets/book/act_create_table.png)

After clicking 'CREATE MODEL', columns can be added in exactly the same way as when creating a table within a datastore.

## Schema Definition

## Populating Data

![Adding A Row To A Table Within A Datastore](/src/assets/book/ds_add_row.gif)
